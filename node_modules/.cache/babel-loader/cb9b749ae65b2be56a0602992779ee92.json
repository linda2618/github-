{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u524D\\u7AEF\\u57FA\\u7840\\\\React\\u811A\\u624B\\u67B6-\\u6848\\u4F8B\\\\search-github\\\\src\\\\components\\\\Search\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.search = () => {\n      //获取用户的输入(来纳许解构赋值+ 重命名)\n      const {\n        keyWordElement: {\n          value: keyWord\n        }\n      } = this;\n      //((1).发送请求前通知App更新状态\n      this.props.updateAppState({\n        isFirst: false,\n        isLoading: true\n      });\n      // console.log(keyWord);\n      //发送网络请求\n      axios.get(`http://localhost:3000/api/search/users?q=${keyWord}`).then(res => {\n        // console.log(res.data.items);\n        // res.data.items.map(usersObj => {\n        //   this.props.getUsers(usersObj)\n        // })\n\n        //((2).请求成功后 通知App更新状态\n        this.props.updateAppState({\n          isLoading: false,\n          usersAArr: res.data.items\n        });\n        // this.props.getUsers(res.data.items)\n      }, error => {\n        this.props.updateAppState({\n          isLoading: false,\n          err: error.message\n        });\n      });\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"jumbotron\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"jumbotron-heading\",\n        children: \"\\u641C\\u7D22github\\u7528\\u6237\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: c => {\n            this.keyWordElement = c;\n          },\n          type: \"text\",\n          placeholder: \"\\u8F93\\u5165\\u5173\\u952E\\u5B57\\u70B9\\u51FB\\u641C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.search,\n          children: \"\\u641C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","axios","Search","search","keyWordElement","value","keyWord","props","updateAppState","isFirst","isLoading","get","then","res","usersAArr","data","items","error","err","message","render","c"],"sources":["D:/前端基础/React脚手架-案例/search-github/src/components/Search/index.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Search extends Component {\r\n  search = () => {\r\n    //获取用户的输入(来纳许解构赋值+ 重命名)\r\n    const {\r\n      keyWordElement: { value: keyWord },\r\n    } = this;\r\n    //((1).发送请求前通知App更新状态\r\n    this.props.updateAppState({ isFirst: false, isLoading: true });\r\n    // console.log(keyWord);\r\n    //发送网络请求\r\n    axios.get(`http://localhost:3000/api/search/users?q=${keyWord}`).then(\r\n      (res) => {\r\n        // console.log(res.data.items);\r\n        // res.data.items.map(usersObj => {\r\n        //   this.props.getUsers(usersObj)\r\n        // })\r\n\r\n        //((2).请求成功后 通知App更新状态\r\n        this.props.updateAppState({\r\n          isLoading: false,\r\n          usersAArr: res.data.items,\r\n        });\r\n        // this.props.getUsers(res.data.items)\r\n      },\r\n      (error) => {\r\n        this.props.updateAppState({ isLoading: false, err: error.message });\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"jumbotron\">\r\n        <h3 className=\"jumbotron-heading\">搜索github用户</h3>\r\n        <div>\r\n          <input\r\n            ref={(c) => {\r\n              this.keyWordElement = c;\r\n            }}\r\n            type=\"text\"\r\n            placeholder=\"输入关键字点击搜索\"\r\n          />\r\n          <button onClick={this.search}>搜索</button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,eAAe,MAAMC,MAAM,SAASF,SAAS,CAAC;EAAA;IAAA;IAAA,KAC5CG,MAAM,GAAG,MAAM;MACb;MACA,MAAM;QACJC,cAAc,EAAE;UAAEC,KAAK,EAAEC;QAAQ;MACnC,CAAC,GAAG,IAAI;MACR;MACA,IAAI,CAACC,KAAK,CAACC,cAAc,CAAC;QAAEC,OAAO,EAAE,KAAK;QAAEC,SAAS,EAAE;MAAK,CAAC,CAAC;MAC9D;MACA;MACAT,KAAK,CAACU,GAAG,CAAE,4CAA2CL,OAAQ,EAAC,CAAC,CAACM,IAAI,CAClEC,GAAG,IAAK;QACP;QACA;QACA;QACA;;QAEA;QACA,IAAI,CAACN,KAAK,CAACC,cAAc,CAAC;UACxBE,SAAS,EAAE,KAAK;UAChBI,SAAS,EAAED,GAAG,CAACE,IAAI,CAACC;QACtB,CAAC,CAAC;QACF;MACF,CAAC,EACAC,KAAK,IAAK;QACT,IAAI,CAACV,KAAK,CAACC,cAAc,CAAC;UAAEE,SAAS,EAAE,KAAK;UAAEQ,GAAG,EAAED,KAAK,CAACE;QAAQ,CAAC,CAAC;MACrE,CAAC,CACF;IACH,CAAC;EAAA;EAEDC,MAAM,GAAG;IACP,oBACE;MAAS,SAAS,EAAC,WAAW;MAAA,wBAC5B;QAAI,SAAS,EAAC,mBAAmB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgB,eACjD;QAAA,wBACE;UACE,GAAG,EAAGC,CAAC,IAAK;YACV,IAAI,CAACjB,cAAc,GAAGiB,CAAC;UACzB,CAAE;UACF,IAAI,EAAC,MAAM;UACX,WAAW,EAAC;QAAW;UAAA;UAAA;UAAA;QAAA,QACvB,eACF;UAAQ,OAAO,EAAE,IAAI,CAAClB,MAAO;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAY;MAAA;QAAA;QAAA;QAAA;MAAA,QACrC;IAAA;MAAA;MAAA;MAAA;IAAA,QACE;EAEd;AACF"},"metadata":{},"sourceType":"module"}